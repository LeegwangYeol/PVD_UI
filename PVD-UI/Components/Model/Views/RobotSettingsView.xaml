<UserControl x:Class="PVD_UI.Components.Views.RobotSettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:PVD_UI.Components.Views"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d" 
             d:DesignHeight="900" d:DesignWidth="1200"
             Background="#1e1e1e" Foreground="White"
             FontFamily="Malgun Gothic">

    <UserControl.Resources>
        <!-- MaterialDesign 스타일 -->
        <Style x:Key="MaterialDesignFloatingActionMiniLightButton" TargetType="Button">
            <Setter Property="Background" Value="#3f3f46"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Width" Value="40"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="Margin" Value="4"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid>
                            <Ellipse x:Name="button" 
                                   Fill="{TemplateBinding Background}" 
                                   Stroke="{TemplateBinding BorderBrush}" 
                                   StrokeThickness="{TemplateBinding BorderThickness}"/>
                            <ContentPresenter x:Name="contentPresenter" 
                                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                            VerticalAlignment="{TemplateBinding VerticalContentAlignment}" 
                                            Focusable="False" 
                                            RecognizesAccessKey="True"
                                            SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="button" Property="Opacity" Value="0.8"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="button" Property="Opacity" Value="0.6"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="button" Property="Opacity" Value="0.3"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="MaterialDesignNavigationRailTabControl" TargetType="TabControl">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="TabStripPlacement" Value="Left"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabControl">
                        <DockPanel>
                            <Border x:Name="HeaderPanel" 
                                    DockPanel.Dock="Left" 
                                    Width="72" 
                                    Background="#1e1e1e">
                                <TabPanel x:Name="HeaderPanelGrid" 
                                          IsItemsHost="True" 
                                          KeyboardNavigation.TabIndex="1"/>
                            </Border>
                            <Border x:Name="ContentPanel" 
                                    Background="#27272a" 
                                    BorderThickness="1,0,0,0" 
                                    BorderBrush="#3f3f46">
                                <ContentPresenter x:Name="PART_SelectedContentHost" 
                                                ContentSource="SelectedContent" 
                                                SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" 
                                                Margin="4"/>
                            </Border>
                        </DockPanel>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="MaterialDesignOutlinedButton" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="#3f3f46"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="16,8"/>
            <Setter Property="MinWidth" Value="100"/>
            <Setter Property="MinHeight" Value="36"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" 
                                Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                CornerRadius="4">
                            <ContentPresenter x:Name="contentPresenter" 
                                            Focusable="False" 
                                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                            Margin="{TemplateBinding Padding}" 
                                            RecognizesAccessKey="True" 
                                            SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" 
                                            VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#2a2a2a"/>
                                <Setter Property="BorderBrush" Value="#52525b"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#3f3f46"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- MaterialDesignNavigatilRailTabControl 스타일 -->
        <Style x:Key="MaterialDesignNavigatilRailTabControl" TargetType="TabControl">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="TabStripPlacement" Value="Left"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabControl">
                        <DockPanel>
                            <Border x:Name="HeaderPanel" 
                                    DockPanel.Dock="Left" 
                                    Width="72" 
                                    Background="#1e1e1e">
                                <TabPanel x:Name="HeaderPanelGrid" 
                                          IsItemsHost="True" 
                                          KeyboardNavigation.TabIndex="1"/>
                            </Border>
                            <Border x:Name="ContentPanel" 
                                    Background="#27272a" 
                                    BorderThickness="1,0,0,0" 
                                    BorderBrush="#3f3f46">
                                <ContentPresenter x:Name="PART_SelectedContentHost" 
                                                ContentSource="SelectedContent" 
                                                SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" 
                                                Margin="4"/>
                            </Border>
                        </DockPanel>
                        <ControlTemplate.Triggers>
                            <Trigger Property="TabStripPlacement" Value="Left">
                                <Setter TargetName="HeaderPanel" Property="DockPanel.Dock" Value="Left"/>
                                <Setter TargetName="ContentPanel" Property="BorderThickness" Value="1,0,0,0"/>
                            </Trigger>
                            <Trigger Property="TabStripPlacement" Value="Top">
                                <Setter TargetName="HeaderPanel" Property="DockPanel.Dock" Value="Top"/>
                                <Setter TargetName="ContentPanel" Property="BorderThickness" Value="0,1,0,0"/>
                            </Trigger>
                            <Trigger Property="TabStripPlacement" Value="Right">
                                <Setter TargetName="HeaderPanel" Property="DockPanel.Dock" Value="Right"/>
                                <Setter TargetName="ContentPanel" Property="BorderThickness" Value="0,0,1,0"/>
                            </Trigger>
                            <Trigger Property="TabStripPlacement" Value="Bottom">
                                <Setter TargetName="HeaderPanel" Property="DockPanel.Dock" Value="Bottom"/>
                                <Setter TargetName="ContentPanel" Property="BorderThickness" Value="0,0,0,1"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- MaterialDesignSwitchToggleButton 스타일 -->
        <Style x:Key="MaterialDesignSwitchToggleButton" TargetType="ToggleButton">
            <Setter Property="Background" Value="#3f3f46"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Width" Value="40"/>
            <Setter Property="Height" Value="24"/>
            <Setter Property="Padding" Value="2"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Border x:Name="border" 
                                Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                CornerRadius="12">
                            <Grid>
                                <Ellipse x:Name="thumb" 
                                         Fill="White" 
                                         HorizontalAlignment="Left" 
                                         Width="20" 
                                         Height="20"
                                         RenderTransformOrigin="0.5,0.5">
                                    <Ellipse.RenderTransform>
                                        <TranslateTransform X="0"/>
                                    </Ellipse.RenderTransform>
                                </Ellipse>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#3b82f6"/>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="thumb" 
                                                           Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)" 
                                                           To="16" 
                                                           Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="thumb" 
                                                           Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)" 
                                                           To="0" 
                                                           Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#71717a"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- MaterialDesignFloatingHintTextBox 스타일 -->
        <Style x:Key="MaterialDesignFloatingHintTextBox" TargetType="TextBox">
            <Setter Property="Background" Value="#3f3f46"/>
            <Setter Property="BorderBrush" Value="#52525b"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,16,12,4"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="materialDesign:HintAssist.HintOpacity" Value="0.6"/>
            <Setter Property="materialDesign:HintAssist.FloatingScale" Value="0.8"/>
            <Setter Property="materialDesign:HintAssist.FloatingOffset" Value="0,-20"/>
            <Setter Property="materialDesign:HintAssist.HelperTextFontSize" Value="12"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Grid>
                            <Border x:Name="border" 
                                    Background="{TemplateBinding Background}" 
                                    BorderBrush="{TemplateBinding BorderBrush}" 
                                    BorderThickness="{TemplateBinding BorderThickness}" 
                                    CornerRadius="4">
                                <Grid>
                                    <ScrollViewer x:Name="PART_ContentHost" 
                                                Margin="{TemplateBinding Padding}" 
                                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}" 
                                                Focusable="False" 
                                                HorizontalScrollBarVisibility="Hidden" 
                                                VerticalScrollBarVisibility="Hidden"/>
                                    <TextBlock x:Name="HintText"
                                             Text="{TemplateBinding materialDesign:HintAssist.Hint}"
                                             VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                             Margin="12,0"
                                             Foreground="{TemplateBinding Foreground}"
                                             Opacity="0.6"
                                             IsHitTestVisible="False"/>
                                </Grid>
                            </Border>
                            <TextBlock x:Name="FloatingHint"
                                     Text="{TemplateBinding materialDesign:HintAssist.Hint}"
                                     Foreground="{TemplateBinding Foreground}"
                                     Opacity="0"
                                     IsHitTestVisible="False"/>
                            <TextBlock x:Name="HelperText"
                                     Text="{TemplateBinding materialDesign:HintAssist.HelperText}"
                                     Foreground="#a1a1aa"
                                     Margin="4,4,0,0"
                                     FontSize="12"
                                     Opacity="0"
                                     IsHitTestVisible="False"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#71717a"/>
                            </Trigger>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#3b82f6"/>
                                <Setter TargetName="FloatingHint" Property="Opacity" Value="1"/>
                                <Setter TargetName="HintText" Property="Opacity" Value="0"/>
                            </Trigger>
                            <Trigger Property="Text" Value="">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="FloatingHint"
                                                           Storyboard.TargetProperty="Opacity"
                                                           To="0"
                                                           Duration="0:0:0.2"/>
                                            <DoubleAnimation Storyboard.TargetName="HintText"
                                                           Storyboard.TargetProperty="Opacity"
                                                           To="0.6"
                                                           Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                            </Trigger>
                            <Trigger Property="Text" Value="{x:Null}">
                                <Setter TargetName="FloatingHint" Property="Opacity" Value="0"/>
                                <Setter TargetName="HintText" Property="Opacity" Value="0.6"/>
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsFocused" Value="True"/>
                                    <Condition Property="Text" Value=""/>
                                </MultiTrigger.Conditions>
                                <MultiTrigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="FloatingHint"
                                                           Storyboard.TargetProperty="Opacity"
                                                           To="1"
                                                           Duration="0:0:0.2"/>
                                            <DoubleAnimation Storyboard.TargetName="HintText"
                                                           Storyboard.TargetProperty="Opacity"
                                                           To="0"
                                                           Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </MultiTrigger.EnterActions>
                            </MultiTrigger>
                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=materialDesign:HintAssist.HelperText}" Value="{x:Null}">
                                <Setter TargetName="HelperText" Property="Visibility" Value="Collapsed"/>
                            </DataTrigger>
                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=materialDesign:HintAssist.HelperText}" Value="">
                                <Setter TargetName="HelperText" Property="Visibility" Value="Collapsed"/>
                            </DataTrigger>
                            <Trigger Property="materialDesign:HintAssist.HelperText" Value="{x:Null}">
                                <Setter TargetName="HelperText" Property="Visibility" Value="Collapsed"/>
                            </Trigger>
                            <Trigger Property="materialDesign:HintAssist.HelperText" Value="">
                                <Setter TargetName="HelperText" Property="Visibility" Value="Collapsed"/>
                            </Trigger>
                            <Trigger Property="materialDesign:HintAssist.HelperText" Value="{x:Null}">
                                <Setter TargetName="HelperText" Property="Visibility" Value="Collapsed"/>
                            </Trigger>
                            <Trigger Property="Validation.HasError" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#ef4444"/>
                                <Setter TargetName="HelperText" Property="Text" Value="{Binding RelativeSource={RelativeSource AncestorType=TextBox}, Path=(Validation.Errors)[0].ErrorContent}"/>
                                <Setter TargetName="HelperText" Property="Foreground" Value="#ef4444"/>
                                <Setter TargetName="HelperText" Property="Opacity" Value="1"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- 공통 스타일 정의 -->
        <Style TargetType="TextBlock" x:Key="SectionHeader">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Margin" Value="0,0,0,16"/>
        </Style>
        <Style TargetType="TextBlock" x:Key="SettingLabel">
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="FontSize" Value="14"/>
            
        </Style>
        <Style TargetType="materialDesign:PackIcon" x:Key="TabIcon">
            <Setter Property="Width" Value="18"/>
            <Setter Property="Height" Value="18"/>
            <Setter Property="Margin" Value="0,0,8,0"/>
        </Style>
    </UserControl.Resources>

    <Grid>
        <!-- 전체 패널을 감싸는 카드 형태의 보더 -->
        <Border Background="#27272a" CornerRadius="12" Margin="40" Padding="24">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- 1. 헤더 영역 -->
                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,24">
                    <materialDesign:PackIcon Kind="Cog" Width="28" Height="28" VerticalAlignment="Center"/>
                    <TextBlock Text="로봇 환경 설정" FontSize="24" FontWeight="Bold" Margin="12,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>

                <!-- 2. 메인 설정 탭 영역 -->
                <TabControl Grid.Row="1" Style="{StaticResource MaterialDesignNavigatilRailTabControl}">
                    <!-- 일반 설정 탭 -->
                    <TabItem>
                        <TabItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="Tune" Style="{StaticResource TabIcon}"/>
                                <TextBlock Text="일반"/>
                            </StackPanel>
                        </TabItem.Header>
                        <Grid Margin="16,0">
                            <StackPanel>
                                <TextBlock Text="시스템 상태" Style="{StaticResource SectionHeader}"/>
                                <Grid Margin="0,0,0,20">
                                    <TextBlock Text="로봇 전원" Style="{StaticResource SettingLabel}"/>
                                    <ToggleButton IsChecked="{Binding RobotPower}" Style="{StaticResource MaterialDesignSwitchToggleButton}" HorizontalAlignment="Right"/>
                                </Grid>
                                <Grid Margin="0,0,0,20">
                                    <TextBlock Text="네트워크 상태" Style="{StaticResource SettingLabel}"/>
                                    <Border Background="#10b981" CornerRadius="12" Padding="8,4" HorizontalAlignment="Right">
                                        <TextBlock Text="연결됨" FontSize="12" FontWeight="SemiBold"/>
                                    </Border>
                                </Grid>
                                <Grid>
                                    <TextBlock Text="시스템 상태" Style="{StaticResource SettingLabel}"/>
                                    <Border Background="#3b82f6" CornerRadius="12" Padding="8,4" HorizontalAlignment="Right">
                                        <TextBlock Text="정상" FontSize="12" FontWeight="SemiBold"/>
                                    </Border>
                                </Grid>
                            </StackPanel>
                        </Grid>
                    </TabItem>

                    <!-- 움직임 설정 탭 -->
                    <TabItem>
                        <TabItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="Gesture" Style="{StaticResource TabIcon}"/>
                                <TextBlock Text="움직임"/>
                            </StackPanel>
                        </TabItem.Header>
                        <ScrollViewer VerticalScrollBarVisibility="Auto" Margin="16,0">
                            <StackPanel>
                                <TextBlock Text="동작 설정" Style="{StaticResource SectionHeader}"/>
                                <Grid Margin="0,0,0,20">
                                    <TextBlock Text="속도" Style="{StaticResource SettingLabel}"/>
                                    <Slider Value="{Binding Speed}" Minimum="0" Maximum="100" Width="200" HorizontalAlignment="Right"/>
                                </Grid>
                                <Grid>
                                    <TextBlock Text="정밀도" Style="{StaticResource SettingLabel}"/>
                                    <Slider Value="{Binding Precision}" Minimum="0" Maximum="100" Width="200" HorizontalAlignment="Right"/>
                                </Grid>

                                <Separator Margin="0,24"/>

                                <TextBlock Text="수동 조작" Style="{StaticResource SectionHeader}"/>
                                <DockPanel>
                                    <UniformGrid DockPanel.Dock="Left" Columns="3" Rows="3" Width="200" Height="200">
                                        <Button Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}" Background="#3f3f46">
                                            <materialDesign:PackIcon Kind="Home"/>
                                        </Button>
                                        <Button Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}" Background="#3f3f46">
                                            <materialDesign:PackIcon Kind="ArrowUp"/>
                                        </Button>
                                        <Button Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}" Background="#3f3f46">
                                            <materialDesign:PackIcon Kind="Target"/>
                                        </Button>
                                        <Button Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}" Background="#3f3f46">
                                            <materialDesign:PackIcon Kind="ArrowLeft"/>
                                        </Button>
                                        <Button IsEnabled="False"/>
                                        <Button Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}" Background="#3f3f46">
                                            <materialDesign:PackIcon Kind="ArrowRight"/>
                                        </Button>
                                        <Button/>
                                        <Button Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}" Background="#3f3f46">
                                            <materialDesign:PackIcon Kind="ArrowDown"/>
                                        </Button>
                                        <Button/>
                                    </UniformGrid>
                                    <StackPanel Margin="24,0,0,0">
                                        <TextBox materialDesign:HintAssist.Hint="이동 거리 (mm)" Text="{Binding MoveDistance}" Style="{StaticResource MaterialDesignFloatingHintTextBox}" Margin="0,0,0,16"/>
                                        <TextBox materialDesign:HintAssist.Hint="회전 각도 (°)" Text="{Binding RotationAngle}" Style="{StaticResource MaterialDesignFloatingHintTextBox}"/>
                                    </StackPanel>
                                </DockPanel>
                            </StackPanel>
                        </ScrollViewer>
                    </TabItem>

                    <!-- 센서 및 안전 탭 -->
                    <TabItem>
                        <TabItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="ShieldCheckOutline" Style="{StaticResource TabIcon}"/>
                                <TextBlock Text="센서 및 안전"/>
                            </StackPanel>
                        </TabItem.Header>
                        <Grid Margin="16,0">
                            <StackPanel>
                                <TextBlock Text="안전 기능" Style="{StaticResource SectionHeader}"/>
                                <Grid Margin="0,0,0,20">
                                    <TextBlock Text="비상 정지" Style="{StaticResource SettingLabel}" Foreground="#ef4444"/>
                                    <ToggleButton IsChecked="{Binding EmergencyStop}" Style="{StaticResource MaterialDesignSwitchToggleButton}" HorizontalAlignment="Right"/>
                                </Grid>
                                <Grid>
                                    <TextBlock Text="안전 가드" Style="{StaticResource SettingLabel}"/>
                                    <Border Background="#10b981" CornerRadius="12" Padding="8,4" HorizontalAlignment="Right">
                                        <TextBlock Text="활성화" FontSize="12" FontWeight="SemiBold"/>
                                    </Border>
                                </Grid>

                                <Separator Margin="0,24"/>

                                <TextBlock Text="센서 모니터링" Style="{StaticResource SectionHeader}"/>
                                <Grid Margin="0,0,0,20">
                                    <TextBlock Text="코어 온도" Style="{StaticResource SettingLabel}"/>
                                    <TextBlock Text="{Binding Temperature, StringFormat={}{0}°C}" HorizontalAlignment="Right" Style="{StaticResource SettingLabel}"/>
                                </Grid>
                                <Grid>
                                    <TextBlock Text="그리퍼 압력" Style="{StaticResource SettingLabel}"/>
                                    <TextBlock Text="{Binding Pressure, StringFormat={}{0}%}" HorizontalAlignment="Right" Style="{StaticResource SettingLabel}"/>
                                </Grid>
                            </StackPanel>
                        </Grid>
                    </TabItem>
                </TabControl>

                <!-- 3. 하단 버튼 영역 -->
                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,24,0,0">
                    <Button Content="초기화" Style="{StaticResource MaterialDesignOutlinedButton}" Margin="0,0,16,0"/>
                    <Button Content="설정 저장" Style="{StaticResource MaterialDesignOutlinedButton}"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>
